"use strict";(self.webpackChunkmy_project=self.webpackChunkmy_project||[]).push([[592],{1894:(M,g,c)=>{c.d(g,{k:()=>n,m:()=>t});const n=["Buenos Aires","Catamarca","Chaco","Chubut","C\xf3rdoba","Corrientes","Entre R\xedos","Formosa","Jujuy","La Pampa","La Rioja","Mendoza","Misiones","Neuqu\xe9n","R\xedo Negro","Salta","San Juan","San Luis","Santa Cruz","Santa Fe","Santiago del Estero","Tierra del Fuego","Tucum\xe1n","Ciudad Aut\xf3noma de Buenos Aires"],t=["Costa Atl\xe1ntica","Patagonia","Norte","Cuyo","Centro"]},5676:(M,g,c)=>{c.d(g,{o:()=>P});var n=c(1902),t=c(4755),_=c(4430);const f=function(a){return["../edit-place",a]};function C(a,p){if(1&a&&(n.TgZ(0,"button",6),n._uU(1," Editar "),n.qZA()),2&a){const l=n.oxw();n.Q6J("routerLink",n.VKq(1,f,null==l.eachPlace?null:l.eachPlace.id))}}function u(a,p){if(1&a){const l=n.EpF();n.TgZ(0,"button",9),n.NdJ("click",function(h){n.CHM(l);const O=n.oxw();return n.KtG(O.deletePlace(h))}),n._uU(1," Eliminar "),n.qZA()}}const d=function(a){return["../place-details",a]};let P=(()=>{class a{constructor(){this.removePlace=new n.vpe}deletePlace(l){l.preventDefault(),l.stopPropagation(),this.removePlace.emit(this.eachPlace)}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275cmp=n.Xpm({type:a,selectors:[["app-element"]],inputs:{eachPlace:"eachPlace"},outputs:{removePlace:"removePlace"},decls:13,vars:9,consts:[[1,"place-card"],[1,"place-title"],[1,"place-description"],[1,"place-province"],[1,"place-img",3,"src"],[1,"button-container"],[3,"routerLink"],[3,"routerLink",4,"ngIf"],[3,"click",4,"ngIf"],[3,"click"]],template:function(l,i){1&l&&(n.TgZ(0,"article",0)(1,"h2",1),n._uU(2),n.qZA(),n.TgZ(3,"p",2),n._uU(4),n.qZA(),n.TgZ(5,"p",3),n._uU(6),n.qZA(),n._UZ(7,"img",4),n.TgZ(8,"div",5)(9,"button",6),n._uU(10," Ver m\xe1s info "),n.qZA(),n.YNc(11,C,2,3,"button",7),n.YNc(12,u,2,0,"button",8),n.qZA()()),2&l&&(n.xp6(2),n.Oqu(null==i.eachPlace?null:i.eachPlace.name),n.xp6(2),n.Oqu(null==i.eachPlace?null:i.eachPlace.description),n.xp6(2),n.Oqu(null==i.eachPlace?null:i.eachPlace.province),n.xp6(1),n.Q6J("src",null==i.eachPlace?null:i.eachPlace.mainimg,n.LSH),n.xp6(2),n.Q6J("routerLink",n.VKq(7,d,null==i.eachPlace?null:i.eachPlace.id)),n.xp6(2),n.Q6J("ngIf",null==i.eachPlace?null:i.eachPlace.isCustom),n.xp6(1),n.Q6J("ngIf",null==i.eachPlace?null:i.eachPlace.isCustom))},dependencies:[t.O5,_.rH],styles:[".place-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:15px;margin:20px 15px;text-align:center}.place-card[_ngcontent-%COMP%]   .place-img[_ngcontent-%COMP%]{border-radius:14px;width:350px}.place-card[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:12px}@media (min-width: 1080px){.place-card[_ngcontent-%COMP%]{width:500px;gap:10px;margin-bottom:40px}.place-card[_ngcontent-%COMP%]   .place-title[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1px;font-family:Poppins,sans-serif}.place-card[_ngcontent-%COMP%]   .place-province[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.place-card[_ngcontent-%COMP%]   .place-img[_ngcontent-%COMP%]{border-radius:10px;width:400px}}"]}),a})()},7916:(M,g,c)=>{c.d(g,{N:()=>x});var n=c(1902),t=c(5030),_=c(1894),f=c(99),C=c(4430),u=c(4755);function d(o,r){1&o&&(n.TgZ(0,"p",26),n._uU(1," El campo es obligatorio. "),n.qZA())}function P(o,r){if(1&o&&(n.TgZ(0,"option",27),n._uU(1),n.qZA()),2&o){const e=r.$implicit;n.Q6J("value",e),n.xp6(1),n.hij(" ",e," ")}}function a(o,r){1&o&&(n.TgZ(0,"p",26),n._uU(1," El campo es obligatorio. "),n.qZA())}function p(o,r){if(1&o&&(n.TgZ(0,"option",27),n._uU(1),n.qZA()),2&o){const e=r.$implicit;n.Q6J("value",e),n.xp6(1),n.hij(" ",e," ")}}function l(o,r){1&o&&(n.TgZ(0,"p",26),n._uU(1," El campo es obligatorio. "),n.qZA())}function i(o,r){1&o&&(n.TgZ(0,"p",26),n._uU(1," El campo es obligatorio. "),n.qZA())}function h(o,r){1&o&&(n.TgZ(0,"p",26),n._uU(1," El campo es obligatorio. "),n.qZA())}function O(o,r){1&o&&(n.TgZ(0,"div",28)(1,"div",29)(2,"label"),n._uU(3," Nombre "),n._UZ(4,"input",6),n.qZA(),n.TgZ(5,"label"),n._uU(6," Descripci\xf3n "),n._UZ(7,"input",14),n.qZA(),n.TgZ(8,"label"),n._uU(9," Tipo "),n._UZ(10,"input",30),n.qZA()()()),2&o&&n.Q6J("formGroupName",r.index)}function v(o,r){1&o&&(n.TgZ(0,"p",26),n._uU(1," El campo es obligatorio. "),n.qZA())}function Z(o,r){1&o&&(n.TgZ(0,"div",28)(1,"div",31)(2,"label",32),n._uU(3,"ID "),n.qZA(),n._UZ(4,"input",33),n.TgZ(5,"label",34),n._uU(6,"URL "),n.qZA(),n._UZ(7,"input",35),n.qZA()()),2&o&&n.Q6J("formGroupName",r.index)}function A(o,r){if(1&o){const e=n.EpF();n.TgZ(0,"form",3)(1,"div",4)(2,"h3"),n._uU(3,"Informaci\xf3n General"),n.qZA(),n.TgZ(4,"div")(5,"label",5),n._uU(6,"Nombre "),n.qZA(),n._UZ(7,"input",6),n.YNc(8,d,2,0,"p",7),n.qZA(),n.TgZ(9,"div")(10,"label",8),n._uU(11,"Provincia "),n.qZA(),n.TgZ(12,"select",9),n.YNc(13,P,2,2,"option",10),n.qZA(),n.YNc(14,a,2,0,"p",7),n.qZA(),n.TgZ(15,"div")(16,"label",11),n._uU(17,"Regi\xf3n "),n.qZA(),n.TgZ(18,"select",12),n.YNc(19,p,2,2,"option",10),n.qZA(),n.YNc(20,l,2,0,"p",7),n.qZA(),n.TgZ(21,"div")(22,"label",13),n._uU(23,"Descripci\xf3n "),n.qZA(),n._UZ(24,"input",14),n.YNc(25,i,2,0,"p",7),n.qZA(),n.TgZ(26,"div",15)(27,"label",16),n._uU(28,"Descripci\xf3n Larga "),n.qZA(),n._UZ(29,"textarea",17),n.YNc(30,h,2,0,"p",7),n.qZA()(),n.TgZ(31,"div",18)(32,"h3"),n._uU(33,"Actividades"),n.qZA(),n.TgZ(34,"button",19),n.NdJ("click",function(){n.CHM(e);const m=n.oxw();return n.KtG(m.addNewActivity())}),n._uU(35,"Nueva Actividad"),n.qZA(),n.YNc(36,O,11,1,"div",20),n.qZA(),n.TgZ(37,"div",21)(38,"h3"),n._uU(39,"Imagen Principal"),n.qZA(),n.TgZ(40,"div")(41,"label",22),n._uU(42,"Portada "),n.qZA(),n._UZ(43,"input",23),n.YNc(44,v,2,0,"p",7),n.qZA()(),n.TgZ(45,"div",24)(46,"h3"),n._uU(47,"Im\xe1genes"),n.qZA(),n.TgZ(48,"button",19),n.NdJ("click",function(){n.CHM(e);const m=n.oxw();return n.KtG(m.addNewImage())}),n._uU(49,"Nueva Imagen"),n.qZA(),n.YNc(50,Z,8,1,"div",20),n.qZA(),n.TgZ(51,"button",25),n.NdJ("click",function(){n.CHM(e);const m=n.oxw();return n.KtG(m.newCustomPlace())}),n._uU(52," Submit "),n.qZA()()}if(2&o){const e=n.oxw();n.Q6J("formGroup",e.placesForm),n.xp6(8),n.Q6J("ngIf",!(null!=e.nameControl&&e.nameControl.valid)&&((null==e.nameControl?null:e.nameControl.dirty)||(null==e.nameControl?null:e.nameControl.touched))),n.xp6(5),n.Q6J("ngForOf",e.provinceArray),n.xp6(1),n.Q6J("ngIf",!(null!=e.provinceControl&&e.provinceControl.valid)&&((null==e.provinceControl?null:e.provinceControl.dirty)||(null==e.provinceControl?null:e.provinceControl.touched))),n.xp6(5),n.Q6J("ngForOf",e.regionArray),n.xp6(1),n.Q6J("ngIf",!(null!=e.regionControl&&e.regionControl.valid)&&((null==e.regionControl?null:e.regionControl.dirty)||(null==e.regionControl?null:e.regionControl.touched))),n.xp6(5),n.Q6J("ngIf",!(null!=e.descriptionControl&&e.descriptionControl.valid)&&((null==e.descriptionControl?null:e.descriptionControl.dirty)||(null==e.descriptionControl?null:e.descriptionControl.touched))),n.xp6(5),n.Q6J("ngIf",!(null!=e.longDescriptionControl&&e.longDescriptionControl.valid)&&((null==e.longDescriptionControl?null:e.longDescriptionControl.dirty)||(null==e.longDescriptionControl?null:e.longDescriptionControl.touched))),n.xp6(6),n.Q6J("ngForOf",e.activitiesArray.controls),n.xp6(8),n.Q6J("ngIf",!(null!=e.mainImage&&e.mainImage.valid)&&((null==e.mainImage?null:e.mainImage.dirty)||(null==e.mainImage?null:e.mainImage.touched))),n.xp6(6),n.Q6J("ngForOf",e.imagesArray.controls),n.xp6(1),n.Q6J("disabled",!e.placesForm.valid)}}let x=(()=>{class o{constructor(e,s,m){this.fb=e,this.placesService=s,this.router=m,this.placesFormDirty=new n.vpe,this.placesFormValid=new n.vpe,this.provinceArray=_.k,this.regionArray=_.m}ngOnInit(){this.generatePlacesForm(),this.putActivities(),this.putImages()}generatePlacesForm(){this.placesForm=this.fb.group({name:new t.NI(this.place?.name||"",t.kI.required),province:new t.NI(this.place?.province||"",t.kI.required),region:new t.NI(this.place?.region||"",t.kI.required),description:new t.NI(this.place?.description||"",t.kI.required),long_description:new t.NI(this.place?.long_description||"",t.kI.required),activities:this.fb.array([]),mainimg:new t.NI(this.place?.mainimg||"",t.kI.required),images:this.fb.array([])}),this.placesForm?.valueChanges.subscribe(()=>{this.placesForm?.dirty&&!this.placesForm?.valid&&this.placesFormDirty.emit()}),this.placesForm?.valueChanges.subscribe(()=>{this.placesForm?.valid&&this.placesFormValid.emit()})}get nameControl(){return this.placesForm?.get("name")}get provinceControl(){return this.placesForm?.get("province")}get regionControl(){return this.placesForm?.get("region")}get descriptionControl(){return this.placesForm?.get("description")}get longDescriptionControl(){return this.placesForm?.get("long_description")}get mainImage(){return this.placesForm?.get("mainimg")}get activitiesArray(){return this.placesForm?.get("activities")}get imagesArray(){return this.placesForm?.get("images")}addNewActivity(){this.activitiesArray.length<3&&this.activitiesArray.push(this.fb.group({name:new t.NI(""),description:new t.NI(""),type:new t.NI("")}))}putActivities(){this.place?.activities?this.place?.activities.forEach(e=>{this.activitiesArray.push(this.fb.group({name:new t.NI(e.name),description:new t.NI(e.description),type:new t.NI(e.type)}))}):this.activitiesArray.push(this.fb.group({name:new t.NI(""),description:new t.NI(""),type:new t.NI("")}))}addNewImage(){if(this.imagesArray.length<4){const e=(this.imagesArray.length+1).toString();this.imagesArray.push(this.fb.group({id:new t.NI(e),url:new t.NI("")}))}}putImages(){this.place?.images?this.place?.images.forEach(e=>{this.imagesArray.push(this.fb.group({id:new t.NI(e.id),url:new t.NI(e.url)}))}):this.imagesArray.push(this.fb.group({id:new t.NI("1"),url:new t.NI("")}))}newCustomPlace(){this.placesForm?.valid&&(this.place?this.placesService.putPlace(this.place.id,this.placesForm.value):this.placesService.postPlace({...this.placesForm?.value,isCustom:!0})).subscribe(s=>{this.placesForm?.reset(),this.router.navigateByUrl("user-list")})}}return o.\u0275fac=function(e){return new(e||o)(n.Y36(t.qu),n.Y36(f.E),n.Y36(C.F0))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-places-form"]],inputs:{place:"place"},outputs:{placesFormDirty:"placesFormDirty",placesFormValid:"placesFormValid"},decls:4,vars:1,consts:[[1,"form-container"],["class","places-form",3,"formGroup",4,"ngIf"],["src","assets/defaultplace.jpg","alt","Rutas argentinas",1,"road-image"],[1,"places-form",3,"formGroup"],[1,"general-info"],["for","name"],["type","text","formControlName","name"],["class","error-msg",4,"ngIf"],["for","province"],["formControlName","province"],[3,"value",4,"ngFor","ngForOf"],["for","region"],["formControlName","region"],["for","description"],["type","text","formControlName","description"],[1,"long_description-class"],["for","long_description"],["formControlName","long_description","cols","20","rows","2"],["formArrayName","activities",1,"activities-form"],[3,"click"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"main-image-form"],["for","mainimg"],["type","text","formControlName","mainimg"],["formArrayName","images",1,"images-form"],["type","submit",3,"disabled","click"],[1,"error-msg"],[3,"value"],[3,"formGroupName"],[1,"activity-form"],["type","text","formControlName","type"],[1,"image-form"],["for","id"],["type","text","formControlName","id","readonly","readonly"],["for","url"],["type","text","formControlName","url"]],template:function(e,s){1&e&&(n.TgZ(0,"div",0),n.YNc(1,A,53,12,"form",1),n.TgZ(2,"div"),n._UZ(3,"img",2),n.qZA()()),2&e&&(n.xp6(1),n.Q6J("ngIf",s.placesForm))},dependencies:[u.sg,u.O5,t._Y,t.YN,t.Kr,t.Fj,t.EJ,t.JJ,t.JL,t.sg,t.u,t.x0,t.CE],styles:[".form-container[_ngcontent-%COMP%]{margin:20px 0;display:flex}.form-container[_ngcontent-%COMP%]   .places-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;gap:12px}.form-container[_ngcontent-%COMP%]   .places-form[_ngcontent-%COMP%]   .general-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.form-container[_ngcontent-%COMP%]   .places-form[_ngcontent-%COMP%]   .activities-form[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .places-form[_ngcontent-%COMP%]   .images-form[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .places-form[_ngcontent-%COMP%]   .main-image-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.form-container[_ngcontent-%COMP%]   .places-form[_ngcontent-%COMP%]   .activities-form[_ngcontent-%COMP%]   .activity-form[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .places-form[_ngcontent-%COMP%]   .images-form[_ngcontent-%COMP%]   .activity-form[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .places-form[_ngcontent-%COMP%]   .main-image-form[_ngcontent-%COMP%]   .activity-form[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .places-form[_ngcontent-%COMP%]   .activities-form[_ngcontent-%COMP%]   .image-form[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .places-form[_ngcontent-%COMP%]   .images-form[_ngcontent-%COMP%]   .image-form[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .places-form[_ngcontent-%COMP%]   .main-image-form[_ngcontent-%COMP%]   .image-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.form-container[_ngcontent-%COMP%]   .places-form[_ngcontent-%COMP%]   .error-msg[_ngcontent-%COMP%]{color:#ff6161}.form-container[_ngcontent-%COMP%]   .road-image[_ngcontent-%COMP%]{display:none}@media (min-width: 1080px){.form-container[_ngcontent-%COMP%]{margin:0;height:75vh;align-items:center;justify-content:space-around}.form-container[_ngcontent-%COMP%]   .places-form[_ngcontent-%COMP%]   .general-info[_ngcontent-%COMP%]   .long_description-class[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.form-container[_ngcontent-%COMP%]   .places-form[_ngcontent-%COMP%]   .general-info[_ngcontent-%COMP%]   .long_description-class[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{color:#1a1f2a}.form-container[_ngcontent-%COMP%]   .places-form[_ngcontent-%COMP%]   .activities-form[_ngcontent-%COMP%]   .activity-form[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .places-form[_ngcontent-%COMP%]   .images-form[_ngcontent-%COMP%]   .activity-form[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .places-form[_ngcontent-%COMP%]   .main-image-form[_ngcontent-%COMP%]   .activity-form[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .places-form[_ngcontent-%COMP%]   .activities-form[_ngcontent-%COMP%]   .image-form[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .places-form[_ngcontent-%COMP%]   .images-form[_ngcontent-%COMP%]   .image-form[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .places-form[_ngcontent-%COMP%]   .main-image-form[_ngcontent-%COMP%]   .image-form[_ngcontent-%COMP%]{flex-direction:row}.form-container[_ngcontent-%COMP%]   .road-image[_ngcontent-%COMP%]{display:block;width:600px;height:585px;border-radius:15px}}"]}),o})()}}]);